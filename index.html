<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tadeo Pantoja - Desarrollador Full Stack</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./style.css">
    
</head>
<body>
    <div class="container">
        <nav class="nav">
            <h3>Tadeo Roberto Pantoja López</h3>
            <ul style="display: space-between; align-self: center;">
                <li><a href="#projects">Proyectos</a></li>
                <li><a href="#skills">Habilidades</a></li>
                <li><a href="#contact">Contacto</a></li>
            </ul>
        </nav>

        <header class="header">
            <h1>Desarrollador Full Stack</h1>
            <p>Especializado en crear soluciones web innovadoras y eficientes</p>
            <a style="text-decoration: none;" class="btn-download" target="_blank" href="./cv/cv"> Descargar CV</a>
        </header>

        <section class="projects" id="projects">
            <h2>Proyectos Destacados</h2>
            <div class="catalog" id="project-catalog"></div>
        </section>

        <section class="skills" id="skills">
            <h2>Habilidades</h2>
            <div class="catalog-skills" id="skills-catalog"></div>
        </section>
    </div>
    <div class="contact-block" id="contact">
        <h2 class="protest-guerrilla-regular">CONTACTO</h2>
        <div class="contact-us">
            <div class="form-box">
                <!-- Formulario -->
                <form id="contact-form" role="form">
                    <input type="text" class="form-control" id="name" placeholder="TU NOMBRE" name="name" required aria-label="Name">
                    <input type="email" class="form-control" id="email" placeholder="TU EMAIL" name="email" required aria-label="Email">
                    <input type="text" class="form-control" id="subject" placeholder="ASUNTO" name="subject" required aria-label="Subject">
                    <textarea class="form-control" rows="10" placeholder="MENSAJE" name="message" required aria-label="Message"></textarea>
                    <button type="submit" class="btn-send">Enviar</button>
                </form>

                <!-- Sección para mostrar el mensaje de notificación -->
                <div id="notification-message" style="display: none; padding: 10px; margin-top: 20px;"></div>

            </div>



        </div>
    </div>
    <!-- add a float widget for go the top   -->
  
        <a href="#" class="floater" style="display: none;"  >
            <i class="fas fa-arrow-up"></i>
        </a>
    

    <footer class="footer">
        <p>&copy; <span id="current-year"></span>Tadeo Roberto Pantoja López. Todos los derechos reservados.</p>
    </footer>

    <script>
        // Set hide on show class for the floater whe is on the top
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.querySelector(".floater").style.display = "block";
            } else {
                document.querySelector(".floater").style.display = "none";
            }
        }
    </script>
    <script>
        // Projects data
        const projects = [
            {
                title: "Kade Stream",
                description: "Recreación de un sitio de streaming de películas",
                image: "./img/KadeScreen.png",
                tags: ["HTML", "CSS", "JavaScript"],
                link: "https://kade.nexwey.online/"
            },
            {
                title: "Portal de Capacitación",
                description: "Portal Base de conocimientos Básico para Call Center",
                image: "./img/PortalCapacitacion.png",
                tags: ["HTML", "CSS", "PHP", "MySQL", "JavaScript"],
                link: "https://tadeopantojal.github.io/html/AvisosImportantes.html"
            },
            {
                title: "Aplicación de gestión de Préstamos Financieros",
                description: "Portal web de gestión de préstamos financieros permite registros de cliente, manejo de archivos o recibos de pagos, ademas de notificaciones de pagos pendientes",
                image: "./img/AplicacionDePrestamos.png",
                tags: ["HTML", "CSS", "PHP", "MySQL", "JavaScript"],
                link: "https://prestamosjb.nexwey.online/suview/index.php"
            }
        ];

        // Skills data
        const skills = [
            { name: "HTML", icon: "fab fa-html5", color: "#E34F26" },
            { name: "CSS", icon: "fab fa-css3-alt", color: "#1572B6" },
            { name: "JavaScript", icon: "fab fa-js", color: "#F7DF1E" },
            { name: "PHP", icon: "fab fa-php", color: "#777BB4" },
            { name: "MySQL", icon: "fas fa-database", color: "#4479A1" },
            { name: "WordPress", icon: "fab fa-wordpress", color: "#21759B" },
            { name: "Git", icon: "fab fa-git", color: "#F05032" },
            { name: "Bootstrap", icon: "fab fa-bootstrap", color: "#7952B3" },
            { name: "React", icon: "fab fa-react", color: "#61DAFB" },
            { name: "Vue", icon: "fab fa-vuejs", color: "#4FC08D" },
            { name: "Node.js", icon: "fab fa-node-js", color: "#339933" },
            { name: "Python", icon: "fab fa-python", color: "#3776AB" },
            { name: "Java", icon: "fab fa-java", color: "#007396" }
        ];

        // Populate projects
        const projectCatalog = document.getElementById('project-catalog');
        projects.forEach(project => {
            const projectCard = document.createElement('div');
            projectCard.className = 'card';
            projectCard.innerHTML = `
                <img src="${project.image}" alt="${project.title}">
                <div class="card-content">
                    <h3>${project.title}</h3>
                    <p>${project.description}</p>
                    <div class="tag-board">
                        ${project.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                   <a class="" href="${project.link}" target="_blank">Ver Proyecto</a>
                </div>
            `;
            projectCatalog.appendChild(projectCard);
        });

        // Populate skills
        const skillsCatalog = document.getElementById('skills-catalog');
        skills.forEach(skill => {
            const skillCard = document.createElement('div');
            skillCard.className = 'card-skills';
            skillCard.innerHTML = `
                <i class="${skill.icon}" aria-hidden="true" style="color: ${skill.color};"></i>
                <h3>${skill.name}</h3>
            `;
            skillsCatalog.appendChild(skillCard);
        });

        // Set current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Download CV button functionality (placeholder)
        // document.getElementById('download-cv').addEventListener('click', function() {
        //     //envíar a la descarga del CV usando htaccess para redirigir a la ruta del archivo ./cv/index.html
        //     window.location.href = './cv/index';
        // });

        // Skills carousel functionality
        const skillsContainer = document.querySelector('.catalog-skills');
        const skillCards = document.querySelectorAll('.card-skills');
        let currentPosition = 0;
        const cardWidth = 170; // 150px width + 20px margin-right

        function moveCarousel() {
            currentPosition -= 1;
            if (currentPosition <= -cardWidth) {
                // Move the first card to the end
                skillsContainer.appendChild(skillsContainer.firstElementChild);
                currentPosition = 0;
            }
            skillsContainer.style.transform = `translateX(${currentPosition}px)`;
        }

        setInterval(moveCarousel, 50);
    </script>
    
<script>
    document.getElementById('contact-form').addEventListener('submit', function(e) {
        e.preventDefault(); // Evitar que el formulario se envíe de manera tradicional
    
        const formData = new FormData(this);
        const notificationMessage = document.getElementById('notification-message');
    
        fetch('../actions/contactclient.php', {
            method: 'POST',
            body: formData
        }).then(response => response.text())
        .then(result => {
            // Mostrar el mensaje de éxito
            notificationMessage.style.display = 'block';
            notificationMessage.style.backgroundColor = '#d4edda'; // Fondo verde claro para éxito
            notificationMessage.style.color = '#155724'; // Texto verde oscuro
            notificationMessage.innerHTML = 'Tu solicitud se envió con éxito, nos estaremos comunicando contigo.';
    
            // Reiniciar el formulario
            document.getElementById('contact-form').reset();
    
            // Ocultar el mensaje después de 5 segundos
            setTimeout(() => {
                notificationMessage.style.display = 'none';
            }, 5000);
        }).catch(error => {
            // Mostrar mensaje de error
            notificationMessage.style.display = 'block';
            notificationMessage.style.backgroundColor = '#f8d7da'; // Fondo rojo claro para error
            notificationMessage.style.color = '#721c24'; // Texto rojo oscuro
            notificationMessage.innerHTML = 'Hubo un error al enviar el formulario. Intenta de nuevo más tarde.';
    
            // Ocultar el mensaje después de 5 segundos
            setTimeout(() => {
                notificationMessage.style.display = 'none';
            }, 5000);
    
            console.error('Error:', error);
        });
    });
    </script>
</body>
</html>